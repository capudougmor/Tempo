{"ast":null,"code":"import _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _jsxFileName = \"E:\\\\Projetos Node\\\\ReactNative\\\\Tempo\\\\src\\\\pages\\\\Home\\\\index.jsx\",\n    _templateObject,\n    _templateObject2;\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from 'react';\nimport styled from 'styled-components/native';\nimport * as Location from 'expo-location';\nimport { useEffect, useState } from 'react';\nimport api, { key } from \"../../services/api\";\nimport Menu from \"../../components/Menu\";\nimport Header from \"../../components/Header\";\nimport Conditions from \"../../components/Conditions\";\nimport Forecast from \"../../components/Forecast\";\nimport Text from \"react-native-web/dist/exports/Text\";\nexport default function Home() {\n  var _this = this;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      errorMsg = _useState2[0],\n      setErrorMsg = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      weather = _useState6[0],\n      setWeather = _useState6[1];\n\n  var _useState7 = useState({\n    name: 'cloud',\n    color: '#fff'\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      icon = _useState8[0],\n      setIcon = _useState8[1];\n\n  var _useState9 = useState(['#1ed6ff', '#97c1ff']),\n      _useState10 = _slicedToArray(_useState9, 2),\n      background = _useState10[0],\n      setBackground = _useState10[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var location, response;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({}));\n\n            case 2:\n              location = _context.sent;\n              console.log(location);\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(api.get(\"/weather?key=\" + key + \"&lat=\" + location.coords.latitude + \"&lon=\" + location.coords.longitude));\n\n            case 6:\n              response = _context.sent;\n              setWeather(response.data);\n\n              if (response.data.results.currently == 'noite') {\n                setBackground(['#0c3741', '#0f2f61']);\n              }\n\n              _context.t0 = response.data.results.condition_slug;\n              _context.next = _context.t0 === 'clear_day' ? 12 : _context.t0 === 'cloudly_day' ? 14 : _context.t0 === 'rain' ? 16 : _context.t0 === 'storm' ? 18 : 20;\n              break;\n\n            case 12:\n              setIcon({\n                name: 'sunny-outline',\n                color: '#ffb300'\n              });\n              return _context.abrupt(\"break\", 20);\n\n            case 14:\n              setIcon({\n                name: 'partly-sunny',\n                color: '#ffb300'\n              });\n              return _context.abrupt(\"break\", 20);\n\n            case 16:\n              setIcon({\n                name: 'rainy-outline',\n                color: '#fff'\n              });\n              return _context.abrupt(\"break\", 20);\n\n            case 18:\n              setIcon({\n                name: 'thunderstorm',\n                color: '#fff'\n              });\n              return _context.abrupt(\"break\", 20);\n\n            case 20:\n              setLoading(false);\n\n            case 21:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n  return React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, React.createElement(Menu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }), React.createElement(Header, {\n    background: background,\n    weather: weather,\n    icon: icon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }), React.createElement(Conditions, {\n    weather: weather,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }), React.createElement(List, {\n    data: weather.results.forecast,\n    keyExtractor: function keyExtractor(item) {\n      return item.date;\n    },\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(Forecast, {\n        data: item,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 37\n        }\n      });\n    },\n    horizontal: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }));\n}\nvar Container = styled.SafeAreaView(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\n  flex: 1;\\n  justify-content: center;\\n  align-items: center;\\n  background-color: #e8f0ff;\\n  padding-top: 10px;\\n\"])));\nvar List = styled.FlatList(_templateObject2 || (_templateObject2 = _taggedTemplateLiteralLoose([\"\\n  margin-top: 10px;\\n  margin-left: 10px;\\n\"])));","map":{"version":3,"sources":["E:/Projetos Node/ReactNative/Tempo/src/pages/Home/index.jsx"],"names":["React","styled","Location","useEffect","useState","api","key","Menu","Header","Conditions","Forecast","Home","errorMsg","setErrorMsg","loading","setLoading","weather","setWeather","name","color","icon","setIcon","background","setBackground","getCurrentPositionAsync","location","console","log","get","coords","latitude","longitude","response","data","results","currently","condition_slug","forecast","item","date","Container","SafeAreaView","List","FlatList"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport styled from 'styled-components/native'\r\nimport * as Location from 'expo-location'\r\n\r\nimport { useEffect, useState } from 'react'\r\n\r\nimport api, { key } from '../../services/api'\r\n\r\nimport Menu from '../../components/Menu'\r\nimport Header from '../../components/Header'\r\nimport Conditions from '../../components/Conditions'\r\nimport Forecast from '../../components/Forecast'\r\nimport { Text } from 'react-native'\r\n\r\nexport default function Home() {\r\n  const [errorMsg, setErrorMsg] = useState()\r\n  const [loading, setLoading] = useState(true)\r\n  const [weather, setWeather] = useState([])\r\n  const [icon, setIcon] = useState({ name: 'cloud', color: '#fff' })\r\n  const [background, setBackground] = useState(['#1ed6ff', '#97c1ff'])\r\n\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      // let { status } = await Location.requestPermissionsAsync()\r\n\r\n      // if (status !== 'granted') {\r\n      //   setErrorMsg(\"Permissao negada para acessar a localização!\")\r\n      //   return\r\n      // }\r\n\r\n      let location = await Location.getCurrentPositionAsync({})\r\n      console.log(location);\r\n\r\n      const response = await api.get(\r\n        `/weather?key=${key}&lat=${location.coords.latitude}&lon=${location.coords.longitude}`\r\n      )\r\n      setWeather(response.data)\r\n\r\n      if (response.data.results.currently == 'noite') {\r\n        setBackground(['#0c3741', '#0f2f61'])\r\n      }\r\n\r\n      switch (response.data.results.condition_slug) {\r\n        case 'clear_day':\r\n          setIcon({ name: 'sunny-outline', color: '#ffb300' })\r\n          break\r\n        case 'cloudly_day':\r\n          setIcon({ name: 'partly-sunny', color: '#ffb300' })\r\n          break\r\n        case 'rain':\r\n          setIcon({ name: 'rainy-outline', color: '#fff' })\r\n          break\r\n        case 'storm':\r\n          setIcon({ name: 'thunderstorm', color: '#fff' })\r\n          break\r\n      }\r\n      setLoading(false)\r\n    })()\r\n  }, [])\r\n\r\n  // if (loading) {\r\n  //   return <Text>loading</Text>\r\n  // } \r\n    return (\r\n      <Container>\r\n        <Menu />\r\n        <Header background={background} weather={weather} icon={icon} />\r\n        <Conditions weather={weather} />\r\n        <List\r\n          data={weather.results.forecast}\r\n          keyExtractor={item => item.date}\r\n          renderItem={({ item }) => <Forecast data={item} />}\r\n          horizontal={true}\r\n        />\r\n      </Container>\r\n    )\r\n  }\r\n  \r\nconst Container = styled.SafeAreaView`\r\n  flex: 1;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: #e8f0ff;\r\n  padding-top: 10px;\r\n`\r\n\r\nconst List = styled.FlatList`\r\n  margin-top: 10px;\r\n  margin-left: 10px;\r\n`\r\n"]},"metadata":{},"sourceType":"module"}