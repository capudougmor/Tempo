{"ast":null,"code":"import _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _readOnlyError from \"@babel/runtime/helpers/readOnlyError\";\n\nvar _jsxFileName = \"E:\\\\Projetos Node\\\\ReactNative\\\\Tempo\\\\src\\\\pages\\\\Home\\\\index.jsx\",\n    _templateObject,\n    _templateObject2;\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from 'react';\nimport styled from 'styled-components/native';\nimport * as Location from 'expo-location';\nimport { useEffect, useState } from 'react';\nimport api, { key } from \"../../services/api\";\nimport Menu from \"../../components/Menu\";\nimport Header from \"../../components/Header\";\nimport Conditions from \"../../components/Conditions\";\nimport Forecast from \"../../components/Forecast\";\nimport Text from \"react-native-web/dist/exports/Text\";\nvar mylist = [{\n  \"date\": \"12/03\",\n  \"weekday\": \"Sex\",\n  \"max\": 26,\n  \"min\": 17,\n  \"description\": \"Tempestades\",\n  \"condition\": \"clear_day\"\n}, {\n  \"date\": \"13/03\",\n  \"weekday\": \"Sáb\",\n  \"max\": 27,\n  \"min\": 18,\n  \"description\": \"Tempestades\",\n  \"condition\": \"rain\"\n}, {\n  \"date\": \"14/03\",\n  \"weekday\": \"Dom\",\n  \"max\": 27,\n  \"min\": 18,\n  \"description\": \"Tempestades\",\n  \"condition\": \"storm\"\n}, {\n  \"date\": \"15/03\",\n  \"weekday\": \"Seg\",\n  \"max\": 26,\n  \"min\": 18,\n  \"description\": \"Tempestades\",\n  \"condition\": \"storm\"\n}, {\n  \"date\": \"16/03\",\n  \"weekday\": \"Ter\",\n  \"max\": 27,\n  \"min\": 17,\n  \"description\": \"Tempestades\",\n  \"condition\": \"storm\"\n}, {\n  \"date\": \"17/03\",\n  \"weekday\": \"Qua\",\n  \"max\": 28,\n  \"min\": 18,\n  \"description\": \"Tempestades\",\n  \"condition\": \"storm\"\n}, {\n  \"date\": \"18/03\",\n  \"weekday\": \"Qui\",\n  \"max\": 25,\n  \"min\": 18,\n  \"description\": \"Tempestades\",\n  \"condition\": \"storm\"\n}, {\n  \"date\": \"19/03\",\n  \"weekday\": \"Sex\",\n  \"max\": 23,\n  \"min\": 19,\n  \"description\": \"Tempestades\",\n  \"condition\": \"storm\"\n}, {\n  \"date\": \"20/03\",\n  \"weekday\": \"Sáb\",\n  \"max\": 23,\n  \"min\": 19,\n  \"description\": \"Tempestades\",\n  \"condition\": \"storm\"\n}, {\n  \"date\": \"21/03\",\n  \"weekday\": \"Dom\",\n  \"max\": 24,\n  \"min\": 18,\n  \"description\": \"Tempestades\",\n  \"condition\": \"storm\"\n}];\nexport default function Home() {\n  var _this = this;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      errorMsg = _useState2[0],\n      setErrorMsg = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      weather = _useState6[0],\n      setWeather = _useState6[1];\n\n  var _useState7 = useState({\n    name: 'cloud',\n    color: '#fff'\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      icon = _useState8[0],\n      setIcon = _useState8[1];\n\n  var _useState9 = useState(['#1ed6ff', '#97c1ff']),\n      _useState10 = _slicedToArray(_useState9, 2),\n      background = _useState10[0],\n      setBackground = _useState10[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var _await$Location$reque, status, location, response;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Location.requestPermissionsAsync());\n\n            case 2:\n              _await$Location$reque = _context.sent;\n              status = _await$Location$reque.status;\n\n              if (!(status !== 'granted')) {\n                _context.next = 7;\n                break;\n              }\n\n              setErrorMsg(\"Permissao negada para acessar a localização!\");\n              return _context.abrupt(\"return\");\n\n            case 7:\n              _context.next = 9;\n              return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({}));\n\n            case 9:\n              location = _context.sent;\n              _context.next = 12;\n              return _regeneratorRuntime.awrap(api.get(\"/weather?key=\" + key + \"&lat=\" + location.coords.latitude + \"&lon=\" + location.coords.longitude));\n\n            case 12:\n              response = _context.sent;\n              setWeather(response.data);\n\n              if (response.data.results.currently != 'noite') {\n                setBackground(['#0c3741', '#0f2f61']);\n              }\n\n              _context.t0 = response.data.results.condition_slug;\n              _context.next = _context.t0 === 'clear_day' ? 18 : _context.t0 === 'cloudly_day' ? 20 : 22;\n              break;\n\n            case 18:\n              setIcon = (_readOnlyError(\"setIcon\"), {\n                name: 'sunny-outline',\n                color: '#ffb300'\n              });\n              return _context.abrupt(\"break\", 22);\n\n            case 20:\n              setIcon = (_readOnlyError(\"setIcon\"), {\n                name: 'partly-sunny',\n                color: '#ffb300'\n              });\n              return _context.abrupt(\"break\", 22);\n\n            case 22:\n              setLoading(false);\n\n            case 23:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n\n  if (loading) {\n    return React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 12\n      }\n    }, \"loading\");\n  }\n\n  return React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }\n  }, React.createElement(Menu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }\n  }), React.createElement(Header, {\n    background: background,\n    weather: weather,\n    icon: icon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  }), React.createElement(Conditions, {\n    weather: weather,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }), React.createElement(List, {\n    data: mylist,\n    keyExtractor: function keyExtractor(item) {\n      return item.date;\n    },\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(Forecast, {\n        data: item,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 37\n        }\n      });\n    },\n    horizontal: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }\n  }));\n}\nvar Container = styled.SafeAreaView(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\n  flex: 1;\\n  justify-content: center;\\n  align-items: center;\\n  background-color: #e8f0ff;\\n  padding-top: 10px;\\n\"])));\nvar List = styled.FlatList(_templateObject2 || (_templateObject2 = _taggedTemplateLiteralLoose([\"\\n  margin-top: 10px;\\n  margin-left: 10px;\\n\"])));","map":{"version":3,"sources":["E:/Projetos Node/ReactNative/Tempo/src/pages/Home/index.jsx"],"names":["React","styled","Location","useEffect","useState","api","key","Menu","Header","Conditions","Forecast","mylist","Home","errorMsg","setErrorMsg","loading","setLoading","weather","setWeather","name","color","icon","setIcon","background","setBackground","requestPermissionsAsync","status","getCurrentPositionAsync","location","get","coords","latitude","longitude","response","data","results","currently","condition_slug","item","date","Container","SafeAreaView","List","FlatList"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport styled from 'styled-components/native'\r\nimport * as Location from 'expo-location'\r\n\r\nimport { useEffect, useState } from 'react'\r\n\r\nimport api, { key } from '../../services/api'\r\n\r\nimport Menu from '../../components/Menu'\r\nimport Header from '../../components/Header'\r\nimport Conditions from '../../components/Conditions'\r\nimport Forecast from '../../components/Forecast'\r\nimport { Text } from 'react-native'\r\n\r\nconst mylist = [\r\n  {\r\n    \"date\": \"12/03\",\r\n    \"weekday\": \"Sex\",\r\n    \"max\": 26,\r\n    \"min\": 17,\r\n    \"description\": \"Tempestades\",\r\n    \"condition\": \"clear_day\"\r\n  },\r\n  {\r\n    \"date\": \"13/03\",\r\n    \"weekday\": \"Sáb\",\r\n    \"max\": 27,\r\n    \"min\": 18,\r\n    \"description\": \"Tempestades\",\r\n    \"condition\": \"rain\"\r\n  },\r\n  {\r\n    \"date\": \"14/03\",\r\n    \"weekday\": \"Dom\",\r\n    \"max\": 27,\r\n    \"min\": 18,\r\n    \"description\": \"Tempestades\",\r\n    \"condition\": \"storm\"\r\n  },\r\n  {\r\n    \"date\": \"15/03\",\r\n    \"weekday\": \"Seg\",\r\n    \"max\": 26,\r\n    \"min\": 18,\r\n    \"description\": \"Tempestades\",\r\n    \"condition\": \"storm\"\r\n  },\r\n  {\r\n    \"date\": \"16/03\",\r\n    \"weekday\": \"Ter\",\r\n    \"max\": 27,\r\n    \"min\": 17,\r\n    \"description\": \"Tempestades\",\r\n    \"condition\": \"storm\"\r\n  },\r\n  {\r\n    \"date\": \"17/03\",\r\n    \"weekday\": \"Qua\",\r\n    \"max\": 28,\r\n    \"min\": 18,\r\n    \"description\": \"Tempestades\",\r\n    \"condition\": \"storm\"\r\n  },\r\n  {\r\n    \"date\": \"18/03\",\r\n    \"weekday\": \"Qui\",\r\n    \"max\": 25,\r\n    \"min\": 18,\r\n    \"description\": \"Tempestades\",\r\n    \"condition\": \"storm\"\r\n  },\r\n  {\r\n    \"date\": \"19/03\",\r\n    \"weekday\": \"Sex\",\r\n    \"max\": 23,\r\n    \"min\": 19,\r\n    \"description\": \"Tempestades\",\r\n    \"condition\": \"storm\"\r\n  },\r\n  {\r\n    \"date\": \"20/03\",\r\n    \"weekday\": \"Sáb\",\r\n    \"max\": 23,\r\n    \"min\": 19,\r\n    \"description\": \"Tempestades\",\r\n    \"condition\": \"storm\"\r\n  },\r\n  {\r\n    \"date\": \"21/03\",\r\n    \"weekday\": \"Dom\",\r\n    \"max\": 24,\r\n    \"min\": 18,\r\n    \"description\": \"Tempestades\",\r\n    \"condition\": \"storm\"\r\n  }\r\n]\r\n\r\nexport default function Home() {\r\n  const [errorMsg, setErrorMsg] = useState()\r\n  const [loading, setLoading] = useState(true)\r\n  const [weather, setWeather] = useState([])\r\n  const [icon, setIcon] = useState({ name: 'cloud', color: '#fff' })\r\n  const [background, setBackground] = useState(['#1ed6ff', '#97c1ff'])\r\n\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      let { status } = await Location.requestPermissionsAsync()\r\n\r\n      if (status !== 'granted') {\r\n        setErrorMsg(\"Permissao negada para acessar a localização!\")\r\n        return\r\n      }\r\n\r\n      let location = await Location.getCurrentPositionAsync({})\r\n\r\n      const response = await api.get(\r\n        `/weather?key=${key}&lat=${location.coords.latitude}&lon=${location.coords.longitude}`\r\n      )\r\n      setWeather(response.data)\r\n\r\n      if (response.data.results.currently != 'noite') {\r\n        setBackground(['#0c3741', '#0f2f61'])\r\n      }\r\n\r\n      switch (response.data.results.condition_slug) {\r\n        case 'clear_day':\r\n          setIcon = ({ name: 'sunny-outline', color: '#ffb300' })\r\n          break\r\n        case 'cloudly_day':\r\n          setIcon = ({ name: 'partly-sunny', color: '#ffb300' })\r\n          break\r\n        // case 'rain':\r\n        //   setIcon = ({ name: 'rainy-outline', color: '#fff' })\r\n        //   break\r\n        // case 'storm':\r\n        //   setIcon = ({ name: 'thunderstorm', color: '#fff' })\r\n        //   break\r\n      }\r\n\r\n      setLoading(false)\r\n    })()\r\n  }, [])\r\n\r\n  if (loading) {\r\n    return <Text>loading</Text>\r\n  } \r\n    return (\r\n      <Container>\r\n        <Menu />\r\n        <Header background={background} weather={weather} icon={icon} />\r\n        <Conditions weather={weather} />\r\n        <List\r\n          data={mylist}\r\n          keyExtractor={item => item.date}\r\n          renderItem={({ item }) => <Forecast data={item} />}\r\n          horizontal={true}\r\n        />\r\n      </Container>\r\n    )\r\n  }\r\n  \r\nconst Container = styled.SafeAreaView`\r\n  flex: 1;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: #e8f0ff;\r\n  padding-top: 10px;\r\n`\r\n\r\nconst List = styled.FlatList`\r\n  margin-top: 10px;\r\n  margin-left: 10px;\r\n`\r\n"]},"metadata":{},"sourceType":"module"}